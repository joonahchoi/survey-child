<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>나의 건강 습관 점검하기[초등학교]</title>
    <style>
        body {
            background-color: #ffd4f5a6;
            text-align: center;
        }

        .box {
            border: 1px solid rgb(56, 0, 72);
            padding: 20px;
            background-color: #f9f9f9;
            width: 60%;
            margin: 20px auto;
            text-align: center;
        }

        .type-container {
            display: flex;
            justify-content: space-around;
            align-items: center;
            margin-top: 20px;
        }

        .type-item {
            border: 1px solid transparent;
            padding: 10px;
            transition: transform 0.2s, border-color 0.2s;
        }

        .type-item img {
            width: auto;
            height: 150px;
            max-width: 100%;
            object-fit: cover;
        }

        .type-item.selected {
            border: 2px solid red;
            transform: scale(1.1);
        }

        .type-item h3.selected {
            color: red;
            font-size: 1.5em;
        }

        .horizontal-radio {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 10px 0;
        }

        .horizontal-radio label {
            font-weight: normal;
            color: black;
            cursor: pointer;
        }

        .horizontal-radio input[type="radio"] {
            display: none;
        }

        .horizontal-radio input[type="radio"]:checked + label {
            color: red;
            font-weight: bold;
        }

        /* 식습관 설문 문항 조정 */
        form {
            text-align: center;
        }

        form label {
            text-align: left;
            display: block;
            margin-bottom: 10px;
        }

        form input[type="radio"] {
            margin-left: 20px;
        }

        #final-result-box {
            display: none;
            width: 60%;
            margin: 20px auto;
            padding: 20px;
            border: 2px solid black;
            background-color: white;
            text-align: center;
        }

        .result-red {
            color: red;
        }
    </style>
</head>

<body>
    <div class="box">
        <h1>나의 건강 습관 점검하기</h1>
        <h2>똑똑하게 모여보자!<br>우리 반 건강 모둠</h2>
        <p>검사 결과를 토대로 활동지를 채워보세요!</p>
    </div>

    <hr>
    <h2>1. 수면 유형</h2>
    <p>그림 아래 설명을 읽고 나에게 해당하는 수면 유형의 새 그림을 클릭하세요.</p>
    <div class="type-container">
        <div class="type-item" onclick="selectSleepType('종달새', this)">
            <h3>종달새</h3>
            <img src="jongdal.jpg" alt="종달새">
            <p>종달새는 아침형 인간으로, 일찍 일어나 활동하는 유형입니다.</p>
        </div>
        <div class="type-item" onclick="selectSleepType('벌새', this)">
            <h3>벌새</h3>
            <img src="hummingbird.jpg" alt="벌새">
            <p>벌새는 낮과 밤 모두 균형 잡힌 생활 패턴을 가지고 있습니다.</p>
        </div>
        <div class="type-item" onclick="selectSleepType('올빼미', this)">
            <h3>올빼미</h3>
            <img src="owl.jpg" alt="올빼미">
            <p>올빼미는 저녁형 인간으로, 밤에 활발히 활동하는 유형입니다.</p>
        </div>
    </div>

    <hr>
    <h2>2. 신체 활동</h2>
    <p>일주일간 60분 이상 운동한 날은 몇 일인가요? (체육시간 포함X)</p>
    <div class="horizontal-radio">
        <input type="radio" id="exercise-0" name="exercise-days" value="0">
        <label for="exercise-0">0일</label>

        <input type="radio" id="exercise-1" name="exercise-days" value="1">
        <label for="exercise-1">1일</label>

        <input type="radio" id="exercise-2" name="exercise-days" value="2">
        <label for="exercise-2">2일</label>

        <input type="radio" id="exercise-3" name="exercise-days" value="3">
        <label for="exercise-3">3일</label>

        <input type="radio" id="exercise-4" name="exercise-days" value="4">
        <label for="exercise-4">4일</label>

        <input type="radio" id="exercise-5" name="exercise-days" value="5">
        <label for="exercise-5">5일</label>

        <input type="radio" id="exercise-6" name="exercise-days" value="6">
        <label for="exercise-6">6일</label>

        <input type="radio" id="exercise-7" name="exercise-days" value="7">
        <label for="exercise-7">7일</label>
    </div>

    <hr>
    <h2>3. 식습관</h2>
    <p>문항을 선택한 후 제출 버튼을 눌러주세요.</p>

    <form id="survey-form">
        <!-- 설문 문항들 여기에 추가 -->
        <!-- 예시로 첫 번째 문항만 넣었습니다. 나머지 문항도 동일한 형식으로 추가해주세요. -->
        <label>1. 한 번 식사할 때 채소류 반찬을 몇 가지나 먹나요?</label>
        <input type="radio" name="question1" value="1"> 거의 먹지 않는다<br>
        <input type="radio" name="question1" value="2"> 1가지<br>
        <input type="radio" name="question1" value="3"> 2가지<br>
        <input type="radio" name="question1" value="4"> 3가지<br>
        <input type="radio" name="question1" value="5"> 4가지 이상<br><br>

        <!-- 나머지 문항들도 동일하게 추가해주세요. -->

    </form>
    <button onclick="submitDiet()">제출</button>
    <p id="diet-message" style="color: red; display: none;">제출되었습니다! [모든 설문 완료] 버튼을 눌러주세요.</p>

    <hr>
    <div id="final-result-box">
        <h2 id="final-result"></h2>
    </div>
    <button onclick="calculateFinalResult()">모든 설문 완료</button>

    <script>
        let sleepType = "선택하지 않음";
        let activityScore = "선택하지 않음";
        let dietScore = "선택하지 않음";

        function selectSleepType(type, element) {
            sleepType = type;
            document.querySelectorAll('.type-item').forEach(item => {
                item.classList.remove('selected');
                item.querySelector('h3').classList.remove('selected');
            });
            element.classList.add('selected');
            element.querySelector('h3').classList.add('selected');
        }

        function submitDiet() {
            const unanswered = [];
            const questions = document.querySelectorAll('#survey-form input[type="radio"]');
            const answered = new Set([...questions].filter(input => input.checked).map(input => input.name));
            for (let i = 1; i <= 19; i++) {
                if (!answered.has(`question${i}`)) unanswered.push(i);
            }
            if (unanswered.length > 0) {
                alert(`${unanswered.join(", ")}번 문항에 답해주세요.`);
                return;
            }
            dietScore = "8점"; // 예시 점수
            document.getElementById('diet-message').style.display = 'block';
        }

        function calculateFinalResult() {
            const selectedActivity = document.querySelector('input[name="exercise-days"]:checked');
            activityScore = selectedActivity ? `${parseInt(selectedActivity.value)}일` : "선택하지 않음";
            document.getElementById('final-result').innerHTML =
                `나의 수면 유형 : <span class="result-red">${sleepType}</span><br>
나의 식습관 점수 : <span class="result-red">${dietScore}</span><br>
나의 신체활동 점수 : <span class="result-red">${activityScore}</span><br><br>
각각의 유형과 내용을 활동지에 작성해보세요♥`;
            document.getElementById('final-result-box').style.display = 'block';
        }

        // 신체 활동 문항 선택 시 글자 스타일 변경
        document.querySelectorAll('.horizontal-radio input[type="radio"]').forEach(radio => {
            radio.addEventListener('change', function () {
                document.querySelectorAll('.horizontal-radio label').forEach(label => {
                    label.style.color = 'black';
                    label.style.fontWeight = 'normal';
                });
                const selectedLabel = document.querySelector(`label[for="${this.id}"]`);
                selectedLabel.style.color = 'red';
                selectedLabel.style.fontWeight = 'bold';
            });
        });
    </script>
</body>

</html>
