<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>나의 건강 습관 점검하기[초등학교]</title>
    <style>
        /* 기본 스타일 */
        body {
            background-color: #ffd4f5a6;
            text-align: center;
        }

        .boxx {
            border: 1px solid rgb(56, 0, 72);
            padding: 20px;
            background-color: #f9f9f9;
            width: 60%;
            margin: 20px auto;
            text-align: center;
        }

        .horizontal-radio {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 10px 0;
        }

        h2 {
            color: darkblue;
        }

        /* 결과 텍스트 강조 */
        #final-result {
            font-size: 1.5em;
            font-weight: bold;
        }

        .result-red {
            color: red;
        }
    </style>
</head>
<body>
    <div class="boxx">
        <h1>나의 건강 습관 점검하기</h1>
        <h2>똑똑하게 모여보자!<br>우리 반 건강 모둠</h2>
        <p>검사 결과를 토대로 활동지를 채워보세요!</p>
    </div>

    <hr>
    <h2>1. 수면 유형</h2>
    <p>그림 아래 설명을 읽고 나에게 해당하는 수면 유형의 새 그림을 클릭하세요.</p>
    <div class="horizontal-radio">
        <button onclick="selectSleepType('종달새')">종달새</button>
        <button onclick="selectSleepType('벌새')">벌새</button>
        <button onclick="selectSleepType('올빼미')">올빼미</button>
    </div>

    <hr>
    <h2>2. 신체 활동</h2>
    <p>일주일간 60분 이상 운동한 날은 몇 일인가요?</p>
    <div class="horizontal-radio">
        <label><input type="radio" name="exercise-days" value="0"> 0일</label>
        <label><input type="radio" name="exercise-days" value="1"> 1일</label>
        <label><input type="radio" name="exercise-days" value="2"> 2일</label>
        <label><input type="radio" name="exercise-days" value="3"> 3일</label>
        <label><input type="radio" name="exercise-days" value="4"> 4일</label>
        <label><input type="radio" name="exercise-days" value="5"> 5일</label>
        <label><input type="radio" name="exercise-days" value="6"> 6일</label>
        <label><input type="radio" name="exercise-days" value="7"> 7일</label>
    </div>

    <hr>
    <h2>3. 식습관</h2>
    <p>1번부터 19번까지의 문항을 선택하세요.</p>
    <form id="survey-form">
        <!-- 문항 추가 -->
        <label for="question1">1. 한 번 식사할 때 채소류 반찬을 몇 가지나 먹나요?</label><br>
        <input type="radio" name="question1" value="1"> 거의 먹지 않는다<br>
        <input type="radio" name="question1" value="2"> 1가지<br>
        <input type="radio" name="question1" value="3"> 2가지<br>
        <input type="radio" name="question1" value="4"> 3가지<br>
        <input type="radio" name="question1" value="5"> 4가지 이상<br><br>
        <!-- 추가 문항 생략 -->
    </form>

    <!-- 설문 완료 버튼 -->
    <button type="button" onclick="calculateFinalResult()">설문완료</button>

    <!-- 결과를 표시할 박스 -->
    <div class="box">
        <h2 id="final-result">결과: 나의 수면 유형은 <span class="result-red">선택하지 않음</span>, 신체활동 점수는 <span class="result-red">선택하지 않음</span>, 식습관 점수는 <span class="result-red">선택하지 않음</span> 입니다.</h2>
    </div>

    <script>
        let sleepType = "선택하지 않음";
        let activityScore = "선택하지 않음";
        let dietScore = "선택하지 않음";

        function selectSleepType(type) {
            sleepType = type;
        }

        function calculateFinalResult() {
            // 신체 활동 점수 계산
            const selectedActivity = document.querySelector('input[name="exercise-days"]:checked');
            if (selectedActivity) {
                activityScore = `${parseInt(selectedActivity.value) + 1}점`;
            } else {
                activityScore = "선택하지 않음";
            }

            // 식습관 점수 계산
            let totalScore = 0;
            const unselectedQuestions = [];
            const weight1to7 = [0.146, 0.179, 0.102, 0.153, 0.092, 0.214, 0.114];
            for (let i = 1; i <= 7; i++) {
                const question = document.querySelector(`input[name="question${i}"]:checked`);
                if (question) {
                    totalScore += ((parseInt(question.value) - 1) * 100 / 4) * weight1to7[i - 1];
                } else {
                    unselectedQuestions.push(i);
                }
            }

            if (unselectedQuestions.length > 0) {
                alert(unselectedQuestions.join(", ") + "번 문항에 답해주세요.");
                return;
            }

            dietScore = `${Math.ceil(totalScore / 10)}점`;

            // 결과 업데이트
            document.getElementById("final-result").innerHTML = `결과: 나의 수면 유형은 <span class="result-red">${sleepType}</span>, 신체활동 점수는 <span class="result-red">${activityScore}</span>, 식습관 점수는 <span class="result-red">${dietScore}</span> 입니다.`;
        }
    </script>
</body>
</html>
